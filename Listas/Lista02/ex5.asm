; Carlos Henrique Hannas de Carvalho
; NUSP: 11965988

EOC		EQU	30H

		ORG	0000H
		SJMP	PROG

		ORG	0003H
		SJMP	EXT_0

PROG:
		SETB	EX0
		SETB	IT0
		SETB	EA

LOOP:
		MOV	A, #0
		CLR	EOC
		MOV	DPTR, #0C000H
		MOVX	@DPTR, A

		JNB	EOC, $
		SJMP	LOOP

EXT_0:
		CLR	EA

		MOV	DPTR, #0A000H
		MOVX	A, @DPTR

		ACALL	WRITE_7SEG
		SETB	EOC

		SETB	EA
		RETI

WRITE_7SEG:
		MOV	DPTR, #TAB
		MOVC	A, @A+DPTR

		MOV	DPTR, #8000H
		MOVX	@DPTR, A

		RET

TAB:		DB 	3FH, 06H, 5BH, 4FH, 66H, 4DH, 6DH, 07H, 7FH, 67H

		END
